{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/client/index.ts","webpack:///./src/client/vendors/fly.js","webpack:///./src/client/modules/debug/index.ts","webpack:///./src/client/modules/debug/debug.events.ts","webpack:///./src/client/modules/auth/index.ts","webpack:///./src/client/modules/ui/index.ts"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;AClFa;AACb;AACA,8CAA8C,cAAc;AAC5D,mBAAO,CAAC,EAAkB;AAC1B,mBAAO,CAAC,EAAiB;AACzB,mBAAO,CAAC,EAAgB;AACxB;AACA;AACA;AACA,CAAC;;;;;;;;ACTD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC,uBAAuB;AAChE;AACA;AACA;AACA;AACA,KAAK;AACL,+CAA+C,wDAAwD;AACvG;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA,mCAAmC,gBAAgB;AACnD,mCAAmC,gBAAgB;;AAEnD;AACA;AACA;AACA;AACA,SAAS;AACT,mCAAmC,gBAAgB;AACnD,mCAAmC,gBAAgB;;AAEnD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,mCAAmC,gBAAgB;AACnD,mCAAmC,gBAAgB;;AAEnD;AACA;AACA;AACA,SAAS;AACT,mCAAmC,gBAAgB;AACnD,mCAAmC,gBAAgB;;AAEnD;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,mCAAmC,gBAAgB;AACnD,mCAAmC,gBAAgB;;AAEnD;AACA;AACA,SAAS;AACT,mCAAmC,gBAAgB;AACnD,mCAAmC,gBAAgB;;AAEnD;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;;;;;;;;;ACzIY;AACb,8CAA8C,cAAc;AAC5D,mBAAO,CAAC,EAAgB;;;;;;;;;ACFX;AACb;AACA;AACA;AACA,CAAC;;;;;;;;;ACJY;AACb,8CAA8C,cAAc;AAC5D,WAAW,mBAAO,CAAC,EAAO;AAC1B;AACA;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;ACtBY;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD","file":"client_packages/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 20);\n","\"use strict\";\r\n/// <reference node=\"ragemp-c\">\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nrequire(\"./vendors/fly.js\");\r\nrequire(\"./modules/debug\");\r\nrequire(\"./modules/auth\");\r\nmp.keys.bind(0x71, false, function () {\r\n    var shouldShow = !mp.gui.cursor.visible;\r\n    mp.gui.cursor.show(shouldShow, shouldShow);\r\n});\r\n","const controlsIds = {\n    F5: 327,\n    W: 32, // 232\n    S: 33, // 31, 219, 233, 268, 269\n    A: 34, // 234\n    D: 35, // 30, 218, 235, 266, 267\n    Space: 321,\n    LCtrl: 326,\n    LShift: 21,\n};\n\nglobal.fly = {\n    flying: false, f: 2.0, w: 2.0, h: 2.0, point_distance: 1000,\n};\nglobal.gameplayCam = mp.cameras.new('gameplay');\n\nmp.game.graphics.notify('~r~Fly script loaded!');\nmp.game.graphics.notify('~r~F5~w~ - enable/disable\\n~r~F5+Space~w~ - disable without warping to ground\\n~r~W/A/S/D/Space/LCtrl~w~ - move');\nmp.game.graphics.notify('~r~/savecam~w~ - save Camera position.');\n\nlet direction = null;\nlet coords = null;\n\nfunction pointingAt(distance) {\n    const farAway = new mp.Vector3((direction.x * distance) + (coords.x), (direction.y * distance) + (coords.y), (direction.z * distance) + (coords.z));\n\n    const result = mp.raycasting.testPointToPoint(coords, farAway, [1, 16]);\n    if (result === undefined) {\n        return 'undefined';\n    }\n    return result;\n}\n\nmp.events.add('render', () => {\n    const controls = mp.game.controls;\n    const fly = global.fly;\n    direction = global.gameplayCam.getDirection();\n    coords = global.gameplayCam.getCoord();\n\n    mp.game.graphics.drawText(`Coords: ${JSON.stringify(coords)}`, [0.5, 0.005], {\n        font: 0,\n        color: [255, 255, 255, 185],\n        scale: [0.3, 0.3],\n        outline: true,\n    });\n    mp.game.graphics.drawText(`pointAtCoord: ${JSON.stringify(pointingAt(fly.point_distance).position)}`, [0.5, 0.025], {\n        font: 0,\n        color: [255, 255, 255, 185],\n        scale: [0.3, 0.3],\n        outline: true,\n    });\n\n    if (controls.isControlJustPressed(0, controlsIds.F5)) {\n        fly.flying = !fly.flying;\n\n        const player = mp.players.local;\n\n        player.setInvincible(fly.flying);\n        player.freezePosition(fly.flying);\n        player.setAlpha(fly.flying ? 0 : 255);\n\n        if (!fly.flying && !controls.isControlPressed(0, controlsIds.Space)) {\n            const position = mp.players.local.position;\n            position.z = mp.game.gameplay.getGroundZFor3dCoord(position.x, position.y, position.z, 0.0, false);\n            mp.players.local.setCoordsNoOffset(position.x, position.y, position.z, false, false, false);\n        }\n\n        mp.game.graphics.notify(fly.flying ? 'Fly: ~g~Enabled' : 'Fly: ~r~Disabled');\n    } else if (fly.flying) {\n        let updated = false;\n        const position = mp.players.local.position;\n        const maxSpeed = controls.isControlPressed(0, controlsIds.LShift)\n            ? 1.0\n            : 8.0;\n\n        if (controls.isControlPressed(0, controlsIds.W)) {\n            if (fly.f < maxSpeed) { fly.f *= 1.025; }\n            if (fly.f > maxSpeed) { fly.f *= 0.975; }\n\n            position.x += direction.x * fly.f;\n            position.y += direction.y * fly.f;\n            position.z += direction.z * fly.f;\n            updated = true;\n        } else if (controls.isControlPressed(0, controlsIds.S)) {\n            if (fly.f < maxSpeed) { fly.f *= 1.025; }\n            if (fly.f > maxSpeed) { fly.f *= 0.975; }\n\n            position.x -= direction.x * fly.f;\n            position.y -= direction.y * fly.f;\n            position.z -= direction.z * fly.f;\n            updated = true;\n        } else {\n            fly.f = maxSpeed / 4;\n        }\n\n        if (controls.isControlPressed(0, controlsIds.A)) {\n            if (fly.l < maxSpeed) { fly.l *= 1.025; }\n            if (fly.l > maxSpeed) { fly.l *= 0.975; }\n\n            position.x += (-direction.y) * fly.l;\n            position.y += direction.x * fly.l;\n            updated = true;\n        } else if (controls.isControlPressed(0, controlsIds.D)) {\n            if (fly.l < maxSpeed) { fly.l *= 1.025; }\n            if (fly.l > maxSpeed) { fly.l *= 0.975; }\n\n            position.x -= (-direction.y) * fly.l;\n            position.y -= direction.x * fly.l;\n            updated = true;\n        } else {\n            fly.l = maxSpeed / 4;\n        }\n\n        if (controls.isControlPressed(0, controlsIds.Space)) {\n            if (fly.h < maxSpeed) { fly.h *= 1.025; }\n            if (fly.h > maxSpeed) { fly.h *= 0.975; }\n\n            position.z += fly.h;\n            updated = true;\n        } else if (controls.isControlPressed(0, controlsIds.LCtrl)) {\n            if (fly.h < maxSpeed) { fly.h *= 1.025; }\n            if (fly.h > maxSpeed) { fly.h *= 0.975; }\n\n            position.z -= fly.h;\n            updated = true;\n        } else {\n            fly.h = maxSpeed / 4;\n        }\n\n        if (updated) {\n            mp.players.local.setCoordsNoOffset(position.x, position.y, position.z, false, false, false);\n        }\n    }\n});\n\nmp.events.add('getCamCoords', (name) => {\n    mp.events.callRemote('saveCamCoords', JSON.stringify(coords), JSON.stringify(pointingAt(fly.point_distance)), name);\n});\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nrequire(\"./debug.events\");\r\n","\"use strict\";\r\nmp.events.add('fromBrowser.log', function (text) {\r\n    mp.gui.chat.push('DEBUG: ' + text);\r\n    mp.events.callRemote('log', text);\r\n});\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ui_1 = require(\"../ui\");\r\nmp.events.add('ui', function (name) {\r\n    mp.gui.chat.push('Rodom ui: ' + name);\r\n    ui_1.ui.show(name);\r\n});\r\nmp.events.add('showScene.auth', function () {\r\n    ui_1.ui.show('Auth');\r\n});\r\nmp.events.add('fromBrowser.handleRegistration', function (username, password, email) {\r\n    mp.events.callRemote('handleRegistration', username, password, email);\r\n});\r\nmp.events.add('auth.response', function (status, data) {\r\n    if (status === 'success') {\r\n        ui_1.ui.browser.destroy();\r\n        mp.game.graphics.notify('~g~Sėkmingai užsiregistravai!');\r\n    }\r\n    else {\r\n        ui_1.ui.browser.execute(\"dispatch('validation', '\" + data + \"')\");\r\n        mp.game.graphics.notify('~r~Validation error!');\r\n    }\r\n});\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar UIManager = /** @class */ (function () {\r\n    function UIManager() {\r\n    }\r\n    UIManager.prototype.show = function (name) {\r\n        var indexFile = \"package://UserInterface/\" + name + \"/index.html\";\r\n        if (!this.browser) {\r\n            try {\r\n                this.browser = mp.browsers.new(indexFile);\r\n            }\r\n            catch (e) {\r\n                mp.gui.chat.push(\"UI '\" + name + \"' doesn't exist.\");\r\n            }\r\n        }\r\n        else {\r\n            this.browser.url = indexFile;\r\n        }\r\n        mp.gui.cursor.show(true, true);\r\n    };\r\n    return UIManager;\r\n}());\r\nexports.ui = new UIManager();\r\n"],"sourceRoot":""}