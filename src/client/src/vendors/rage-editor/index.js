!function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=1)}([function(e,r,t){"undefined"!=typeof self&&self,e.exports=function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=1)}([function(e,r,t){"use strict";var n;function o(e,r){const t="client"===i();if(e&&"object"==typeof e&&void 0!==e.id){const o=(r,n,o)=>t?e.type===r&&n.at(e.id)===e:e instanceof o;switch(r){case n.Blip:return o("blip",mp.blips,mp.Blip);case n.Checkpoint:return o("checkpoint",mp.checkpoints,mp.Checkpoint);case n.Colshape:return o("colshape",mp.colshapes,mp.Colshape);case n.Label:return o("textlabel",mp.labels,mp.TextLabel);case n.Marker:return o("marker",mp.markers,mp.Marker);case n.Object:return o("object",mp.objects,mp.Object);case n.Pickup:return o("pickup",mp.pickups,mp.Pickup);case n.Player:return o("player",mp.players,mp.Player);case n.Vehicle:return o("vehicle",mp.vehicles,mp.Vehicle)}}return!1}function c(){const e=46656*Math.random()|0,r=46656*Math.random()|0;return("000"+e.toString(36)).slice(-3)+("000"+r.toString(36)).slice(-3)}function i(){return mp.joaat?"server":mp.game&&mp.game.joaat?"client":mp.trigger?"cef":void 0}function s(e){const r=i();return JSON.stringify(e,(e,t)=>{if("client"===r||"server"===r&&t&&"object"==typeof t){let e;if(o(t,n.Blip)?e=n.Blip:o(t,n.Checkpoint)?e=n.Checkpoint:o(t,n.Colshape)?e=n.Colshape:o(t,n.Marker)?e=n.Marker:o(t,n.Object)?e=n.Object:o(t,n.Pickup)?e=n.Pickup:o(t,n.Player)?e=n.Player:o(t,n.Vehicle)&&(e=n.Vehicle),e)return{__t:e,i:t.remoteId||t.id}}return t})}function a(e){const r=i();return JSON.parse(e,(e,t)=>{if(("client"===r||"server"===r)&&t&&"object"==typeof t&&"string"==typeof t.__t&&"number"==typeof t.i&&2===Object.keys(t).length){const e=t.i;let o;switch(t.__t){case n.Blip:o=mp.blips;break;case n.Checkpoint:o=mp.checkpoints;break;case n.Colshape:o=mp.colshapes;break;case n.Label:o=mp.labels;break;case n.Marker:o=mp.markers;break;case n.Object:o=mp.objects;break;case n.Pickup:o=mp.pickups;break;case n.Player:o=mp.players;break;case n.Vehicle:o=mp.vehicles}if(o)return o["client"===r?"atRemoteId":"at"](e)}return t})}function l(e){return new Promise(r=>setTimeout(()=>r(e),0))}function u(e){return new Promise((r,t)=>setTimeout(()=>t(e),0))}function p(e){try{e.url}catch(e){return!1}return!0}t.d(r,"g",function(){return c}),t.d(r,"a",function(){return i}),t.d(r,"f",function(){return s}),t.d(r,"c",function(){return a}),t.d(r,"e",function(){return l}),t.d(r,"d",function(){return u}),t.d(r,"b",function(){return p}),function(e){e.Blip="b",e.Checkpoint="cp",e.Colshape="c",e.Label="l",e.Marker="m",e.Object="o",e.Pickup="p",e.Player="pl",e.Vehicle="v"}(n||(n={}))},function(e,r,t){"use strict";t.r(r),function(e){t.d(r,"register",function(){return f}),t.d(r,"unregister",function(){return m}),t.d(r,"call",function(){return g}),t.d(r,"callServer",function(){return h}),t.d(r,"callClient",function(){return b}),t.d(r,"callBrowsers",function(){return y}),t.d(r,"callBrowser",function(){return P});var n=t(0);const o=n.a();if(!o)throw"Unknown RAGE environment";const c="PROCEDURE_NOT_FOUND",i="__rpc:id",s="__rpc:process",a="__rpc:browserRegister",l="__rpc:browserUnregister",u="cef"===o?window:e;if(!u[s])if(u.__rpcListeners={},u.__rpcPending={},u[s]=((e,r)=>{"server"!==o&&(r=e);const t=n.c(r);if(t.req){const r={id:t.id,environment:t.fenv||t.env};"server"===o&&(r.player=e);const c={ret:1,id:t.id,env:o};let i;switch(o){case"server":i=(e=>r.player.call(s,[n.f(e)]));break;case"client":if("server"===t.env)i=(e=>mp.events.callRemote(s,n.f(e)));else if("cef"===t.env){const e=t.b&&u.__rpcBrowsers[t.b];r.browser=e,i=(r=>e&&n.b(e)&&p(e,r,!0))}break;case"cef":i=(e=>mp.trigger(s,n.f(e)))}i&&d(t.name,t.args,r).then(e=>i({...c,res:e})).catch(e=>i({...c,err:e}))}else if(t.ret){const r=u.__rpcPending[t.id];if("server"===o&&r.player!==e)return;r&&(r.resolve(t.err?n.d(t.err):n.e(t.res)),delete u.__rpcPending[t.id])}}),"cef"!==o){if(mp.events.add(s,u[s]),"client"===o){f("__rpc:callServer",([e,r],t)=>v(e,r,{fenv:t.environment})),f("__rpc:callBrowsers",([e,r],t)=>w(null,e,r,{fenv:t.environment})),u.__rpcBrowsers={};const e=e=>{const r=n.g();Object.keys(u.__rpcBrowsers).forEach(r=>{const t=u.__rpcBrowsers[r];t&&n.b(t)&&t!==e||delete u.__rpcBrowsers[r]}),u.__rpcBrowsers[r]=e,e.execute(`if(typeof window['${i}'] === 'undefined'){ window['${i}'] = Promise.resolve('${r}'); }else{ window['${i}:resolve']('${r}'); }`)};mp.browsers.forEach(e),mp.events.add("browserCreated",e),u.__rpcBrowserProcedures={},mp.events.add(a,e=>{const[r,t]=JSON.parse(e);u.__rpcBrowserProcedures[t]=r}),mp.events.add(l,e=>{const[r,t]=JSON.parse(e);u.__rpcBrowserProcedures[t]===r&&delete u.__rpcBrowserProcedures[t]})}}else void 0===u[i]&&(u[i]=new Promise(e=>{u[i+":resolve"]=e}));function p(e,r,t){const o=n.f(r);e.execute(`var process = window["${s}"]; if(process){ process(${JSON.stringify(o)}); }else{ ${t?"":`mp.trigger("${s}", '{"ret":1,"id":"${r.id}","err":"${c}","env":"cef"}');`} }`)}function d(e,r,t){const o=u.__rpcListeners[e];return o?n.e(o(r,t)):n.d(c)}function f(e,r){if(2!==arguments.length)throw'register expects 2 arguments: "name" and "cb"';"cef"===o&&u[i].then(r=>mp.trigger(a,JSON.stringify([r,e]))),u.__rpcListeners[e]=r}function m(e){if(1!==arguments.length)throw'unregister expects 1 argument: "name"';"cef"===o&&u[i].then(r=>mp.trigger(l,JSON.stringify([r,e]))),u.__rpcListeners[e]=void 0}function g(e,r){return 1!==arguments.length&&2!==arguments.length?n.d('call expects 1 or 2 arguments: "name" and optional "args"'):d(e,r,{environment:o})}function v(e,r,t={}){switch(o){case"server":return g(e,r);case"client":{const c=n.g();return new Promise(i=>{u.__rpcPending[c]={resolve:i};const a={req:1,id:c,name:e,env:o,args:r,...t};mp.events.callRemote(s,n.f(a))})}case"cef":return b("__rpc:callServer",[e,r])}}function h(e,r){return 1!==arguments.length&&2!==arguments.length?n.d('callServer expects 1 or 2 arguments: "name" and optional "args"'):v(e,r,{})}function b(e,r,t){switch(o){case"client":return t=r,r=e,1!==arguments.length&&2!==arguments.length||"string"!=typeof r?n.d('callClient from the client expects 1 or 2 arguments: "name" and optional "args"'):g(r,t);case"server":{if(2!==arguments.length&&3!==arguments.length||"object"!=typeof e)return n.d('callClient from the server expects 2 or 3 arguments: "player", "name", and optional "args"');const c=n.g();return new Promise(i=>{u.__rpcPending[c]={resolve:i,player:e};const a={req:1,id:c,name:r,env:o,args:t};e.call(s,[n.f(a)])})}case"cef":{if(t=r,r=e,1!==arguments.length&&2!==arguments.length||"string"!=typeof r)return n.d('callClient from the browser expects 1 or 2 arguments: "name" and optional "args"');const c=n.g();return u[i].then(e=>new Promise(i=>{u.__rpcPending[c]={resolve:i};const a={b:e,req:1,id:c,name:r,env:o,args:t};mp.trigger(s,n.f(a))}))}}}function _(e,r,t,n,c={}){return new Promise(i=>{u.__rpcPending[e]={resolve:i},p(r,{req:1,id:e,name:t,env:o,args:n,...c},!1)})}function w(e,r,t,i={}){switch(o){case"client":const s=n.g(),a=u.__rpcBrowserProcedures[r];if(!a)return n.d(c);const l=u.__rpcBrowsers[a];return l&&n.b(l)?_(s,l,r,t,i):n.d(c);case"server":return b(e,"__rpc:callBrowsers",[r,t]);case"cef":return b("__rpc:callBrowsers",[r,t])}}function y(e,r,t){switch(o){case"client":case"cef":return 1!==arguments.length&&2!==arguments.length?n.d('callBrowsers from the client or browser expects 1 or 2 arguments: "name" and optional "args"'):w(null,e,r,{});case"server":return 2!==arguments.length&&3!==arguments.length?n.d('callBrowsers from the server expects 2 or 3 arguments: "player", "name", and optional "args"'):w(e,r,t,{})}}function P(e,r,t){return"client"!==o?n.d("callBrowser can only be used in the client environment"):2!==arguments.length&&3!==arguments.length?n.d('callBrowser expects 2 or 3 arguments: "browser", "name", and optional "args"'):_(n.g(),e,r,t,{})}}.call(this,t(2))},function(e,r){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t}])},function(e,r,t){"use strict";t.r(r);var n=t(0);let o,c;function i(){o&&(o.active?(mp.gui.cursor.visible=!1,mp.events.call("reditor:hidden"),c.then(e=>mp.gui.chat.activate(e)),o.active=!1):n.callServer("reditor:canPlayerUse").then(e=>"object"==typeof e?{l:!!e.l,s:!!e.s,c:!!e.c}:!!e).then(e=>{e&&(n.callBrowser(o,"reditor:setAccess",e),mp.events.call("reditor:shown"),c=new Promise(e=>{const r=t=>{e(t),mp.events.remove("reditor:chatActivation",r)};mp.events.add("reditor:chatActivation",r),mp.gui.execute("mp.trigger('reditor:chatActivation', chat.active)")}),mp.gui.cursor.visible=!0,c.then(()=>mp.gui.chat.activate(!1)),o.active=!0,o&&o.active&&o.execute("if(reditor && reditor.editor) reditor.editor.focus()"))}))}mp.events.add("guiReady",()=>{n.callServer("reditor:getInfo").then(e=>{e&&function(e){o||(o=mp.browsers.new(e.url)),o.active=!1,mp.keys.bind(e.key,!1,i)}(e)})}),n.register("reditor:eval",e=>{try{((e,r)=>{const t={};for(const e in void 0)t[e]=void 0;new Function(`with(this){ ${r} }`).call({...t,...e})})({rpc:n},e)}catch(e){}}),n.register("reditor:getFiles",()=>{return Object.keys(mp.storage.data.reditorFiles||{}).sort((e,r)=>e.toLowerCase().localeCompare(r.toLowerCase()))}),n.register("reditor:getFile",e=>(mp.storage.data.reditorFiles||{})[e]),n.register("reditor:exists",e=>void 0!==(mp.storage.data.reditorFiles||{})[e]),n.register("reditor:saveFile",([e,r])=>{mp.storage.data.reditorFiles||(mp.storage.data.reditorFiles={}),mp.storage.data.reditorFiles[e]=r,mp.storage.flush()}),n.register("reditor:deleteFile",e=>{mp.storage.data.reditorFiles&&(delete mp.storage.data.reditorFiles[e],mp.storage.flush())})}]);